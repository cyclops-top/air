# Proposal: 终端图像协议探测与像素级二维码渲染

## Why
目前 TUI 中的二维码使用 Unicode 字符（Dense1x2）渲染。这种方式高度依赖终端字体和行高设置，在许多终端环境下会导致二维码变形，甚至完全无法识别。
为了提供更专业和稳定的体验，程序应当探测终端是否支持像素级图像协议（如 Sixel, Kitty, iTerm2）。如果支持，则以真实图片形式渲染二维码；如果不支持，则自动隐藏二维码以避免展示损坏的界面。

## What Changes
- **终端能力探测**: 引入 `ratatui-image`，在启动时自动探测终端支持的图像协议。
- **像素级渲染**: 将二维码数据转换为内存图像（`image` buffer），并使用探测到的协议进行渲染。
- **条件展示逻辑**: 
    - 如果支持图形协议：展示高清像素二维码。
    - 如果不支持图形协议：隐藏二维码区域，将空间返还给系统信息展示。
- **依赖更新**: 添加 `ratatui-image` 和 `image` crate。

## Impact
- **可靠性**: 解决 Unicode 二维码易变形的问题，确保展示的二维码 100% 可被扫描。
- **自适应**: 自动根据终端能力调整 UI 布局。
