# Air - 轻量级局域网文件共享工具

`air` 是一个由 Rust 编写的命令行工具，旨在帮助用户快速将本地目录转换为安全的 HTTP/HTTPS 文件服务器，特别针对局域网分享场景进行了深度优化。

## 🚀 核心特性

- **全屏 TUI 仪表盘**: 启动后进入实时监控界面，展示服务状态、统计数据及滚动日志。
- **极简 Web UI**: 提供直观的文件列表展示，支持可点击的面包屑导航。
- **高性能 HTTP/2**: 开启 HTTPS 模式后自动启用 H2 多路复用，极大提升批量请求的处理速度。
- **安全沙箱**: 严格的路径清洗与防穿越逻辑，确保访问范围限制在指定目录内。
- **扫码分享**: TUI 界面动态生成二维码，手机扫描即可立即访问。
- **断点续传**: 完美支持 HTTP `Range` 头，支持大文件分段下载与视频流播放。
- **自动端口选择**: 端口冲突时自动重试，确保服务一定能成功启动。
- **零依赖单文件**: 静态资源（如图标）已打包进二进制文件，真正的即插即用。

## 🛠️ 安装与构建

项目使用 `Makefile` 管理构建流程：

### 本地编译
```bash
make build
```
编译产物位于 `target/release/air`。

### 跨平台编译
支持为 Linux、macOS 和 Windows 生成发布版本：
```bash
make build-all
```
构建产物将输出至 `dist/` 目录。

### 运行测试
```bash
make test
```

## 📖 使用说明

### 快速启动
在当前目录启动服务：
```bash
./air .
```

### 指定端口与 HTTPS
```bash
# 指定端口启动
./air /path/to/share --port 9000

# 开启 HTTPS 模式（自动生成自签名证书，解锁 HTTP/2）
./air /path/to/share --https
```

### TUI 交互
- **q / Q**: 退出程序并停止服务。
- **↑ / ↓**: 在实时日志区域上下滚动查看历史记录。

## 📊 运行统计
程序退出后，控制台会自动打印本次运行的统计摘要，包括：
- 成功下载的文件总数。
- 累计传输的数据体积。

---

*Powered by Rust, Axum, and Ratatui.*
